{"ast":null,"code":"\"use strict\";\n\n/**\n  * @reach/combobox v0.18.0\n  *\n  * Copyright (c) 2018-2022, React Training LLC\n  *\n  * This source code is licensed under the MIT license found in the\n  * LICENSE.md file in the root directory of this source tree.\n  *\n  * @license MIT\n  */\n\n// src/reach-combobox.tsx\nimport * as React from \"react\";\nimport { createNamedContext, composeEventHandlers, isFunction, makeId, noop, useComposedRefs, useIsomorphicLayoutEffect as useLayoutEffect, useStatefulRefValue, useUpdateEffect } from \"@reach/utils\";\nimport { createDescendantContext, DescendantProvider, useDescendant, useDescendants, useDescendantsInit } from \"@reach/descendants\";\n\n// src/utils.ts\nfunction findAll(_ref) {\n  let {\n    autoEscape,\n    caseSensitive = false,\n    findChunks = defaultFindChunks,\n    sanitize,\n    searchWords,\n    textToHighlight\n  } = _ref;\n  return fillInChunks({\n    chunksToHighlight: combineChunks({\n      chunks: findChunks({\n        autoEscape,\n        caseSensitive,\n        sanitize,\n        searchWords,\n        textToHighlight\n      })\n    }),\n    totalLength: textToHighlight ? textToHighlight.length : 0\n  });\n}\nfunction combineChunks(_ref2) {\n  let {\n    chunks\n  } = _ref2;\n  return chunks.sort((first, second) => first.start - second.start).reduce((processedChunks, nextChunk) => {\n    if (processedChunks.length === 0) {\n      return [nextChunk];\n    } else {\n      const prevChunk = processedChunks.pop();\n      if (nextChunk.start <= prevChunk.end) {\n        const endIndex = Math.max(prevChunk.end, nextChunk.end);\n        processedChunks.push({\n          highlight: false,\n          start: prevChunk.start,\n          end: endIndex\n        });\n      } else {\n        processedChunks.push(prevChunk, nextChunk);\n      }\n      return processedChunks;\n    }\n  }, []);\n}\nfunction defaultFindChunks(_ref3) {\n  let {\n    autoEscape,\n    caseSensitive,\n    sanitize = defaultSanitize,\n    searchWords,\n    textToHighlight\n  } = _ref3;\n  textToHighlight = sanitize(textToHighlight || \"\");\n  return searchWords.filter(searchWord => searchWord).reduce((chunks, searchWord) => {\n    searchWord = sanitize(searchWord);\n    if (autoEscape) {\n      searchWord = escapeRegExpFn(searchWord);\n    }\n    const regex = new RegExp(searchWord, caseSensitive ? \"g\" : \"gi\");\n    let match;\n    while (match = regex.exec(textToHighlight || \"\")) {\n      let start = match.index;\n      let end = regex.lastIndex;\n      if (end > start) {\n        chunks.push({\n          highlight: false,\n          start,\n          end\n        });\n      }\n      if (match.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n    }\n    return chunks;\n  }, []);\n}\nfunction fillInChunks(_ref4) {\n  let {\n    chunksToHighlight,\n    totalLength\n  } = _ref4;\n  const allChunks = [];\n  if (chunksToHighlight.length === 0) {\n    append(0, totalLength, false);\n  } else {\n    let lastIndex = 0;\n    chunksToHighlight.forEach(chunk => {\n      append(lastIndex, chunk.start, false);\n      append(chunk.start, chunk.end, true);\n      lastIndex = chunk.end;\n    });\n    append(lastIndex, totalLength, false);\n  }\n  return allChunks;\n  function append(start, end, highlight) {\n    if (end - start > 0) {\n      allChunks.push({\n        start,\n        end,\n        highlight\n      });\n    }\n  }\n}\nfunction defaultSanitize(string) {\n  return string;\n}\nfunction escapeRegExpFn(string) {\n  return string.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, \"\\\\$&\");\n}\nvar HighlightWords = {\n  combineChunks,\n  fillInChunks,\n  findAll,\n  findChunks: defaultFindChunks\n};\n\n// src/reach-combobox.tsx\nimport { useId } from \"@reach/auto-id\";\nimport { Popover, positionMatchWidth } from \"@reach/popover\";\nvar IDLE = \"IDLE\";\nvar SUGGESTING = \"SUGGESTING\";\nvar NAVIGATING = \"NAVIGATING\";\nvar INTERACTING = \"INTERACTING\";\nvar CLEAR = \"CLEAR\";\nvar CHANGE = \"CHANGE\";\nvar INITIAL_CHANGE = \"INITIAL_CHANGE\";\nvar NAVIGATE = \"NAVIGATE\";\nvar SELECT_WITH_KEYBOARD = \"SELECT_WITH_KEYBOARD\";\nvar SELECT_WITH_CLICK = \"SELECT_WITH_CLICK\";\nvar ESCAPE = \"ESCAPE\";\nvar BLUR = \"BLUR\";\nvar INTERACT = \"INTERACT\";\nvar FOCUS = \"FOCUS\";\nvar OPEN_WITH_BUTTON = \"OPEN_WITH_BUTTON\";\nvar OPEN_WITH_INPUT_CLICK = \"OPEN_WITH_INPUT_CLICK\";\nvar CLOSE_WITH_BUTTON = \"CLOSE_WITH_BUTTON\";\nvar stateChart = {\n  initial: IDLE,\n  states: {\n    [IDLE]: {\n      on: {\n        [BLUR]: IDLE,\n        [CLEAR]: IDLE,\n        [CHANGE]: SUGGESTING,\n        [INITIAL_CHANGE]: IDLE,\n        [FOCUS]: SUGGESTING,\n        [NAVIGATE]: NAVIGATING,\n        [OPEN_WITH_BUTTON]: SUGGESTING,\n        [OPEN_WITH_INPUT_CLICK]: SUGGESTING\n      }\n    },\n    [SUGGESTING]: {\n      on: {\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [NAVIGATE]: NAVIGATING,\n        [CLEAR]: IDLE,\n        [ESCAPE]: IDLE,\n        [BLUR]: IDLE,\n        [SELECT_WITH_CLICK]: IDLE,\n        [INTERACT]: INTERACTING,\n        [CLOSE_WITH_BUTTON]: IDLE\n      }\n    },\n    [NAVIGATING]: {\n      on: {\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [CLEAR]: IDLE,\n        [BLUR]: IDLE,\n        [ESCAPE]: IDLE,\n        [NAVIGATE]: NAVIGATING,\n        [SELECT_WITH_CLICK]: IDLE,\n        [SELECT_WITH_KEYBOARD]: IDLE,\n        [CLOSE_WITH_BUTTON]: IDLE,\n        [INTERACT]: INTERACTING\n      }\n    },\n    [INTERACTING]: {\n      on: {\n        [CLEAR]: IDLE,\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [BLUR]: IDLE,\n        [ESCAPE]: IDLE,\n        [NAVIGATE]: NAVIGATING,\n        [CLOSE_WITH_BUTTON]: IDLE,\n        [SELECT_WITH_CLICK]: IDLE\n      }\n    }\n  }\n};\nvar reducer = (data, event) => {\n  let nextState = {\n    ...data,\n    lastEventType: event.type\n  };\n  switch (event.type) {\n    case CHANGE:\n    case INITIAL_CHANGE:\n      return {\n        ...nextState,\n        navigationValue: null,\n        value: event.value\n      };\n    case NAVIGATE:\n    case OPEN_WITH_BUTTON:\n    case OPEN_WITH_INPUT_CLICK:\n      return {\n        ...nextState,\n        navigationValue: findNavigationValue(nextState, event)\n      };\n    case CLEAR:\n      return {\n        ...nextState,\n        value: \"\",\n        navigationValue: null\n      };\n    case BLUR:\n    case ESCAPE:\n      return {\n        ...nextState,\n        navigationValue: null\n      };\n    case SELECT_WITH_CLICK:\n      return {\n        ...nextState,\n        value: event.isControlled ? data.value : event.value,\n        navigationValue: null\n      };\n    case SELECT_WITH_KEYBOARD:\n      return {\n        ...nextState,\n        value: event.isControlled ? data.value : data.navigationValue,\n        navigationValue: null\n      };\n    case CLOSE_WITH_BUTTON:\n      return {\n        ...nextState,\n        navigationValue: null\n      };\n    case INTERACT:\n      return nextState;\n    case FOCUS:\n      return {\n        ...nextState,\n        navigationValue: findNavigationValue(nextState, event)\n      };\n    default:\n      return nextState;\n  }\n};\nfunction popoverIsExpanded(state) {\n  return [SUGGESTING, NAVIGATING, INTERACTING].includes(state);\n}\nfunction findNavigationValue(stateData, event) {\n  if (event.value) {\n    return event.value;\n  } else if (event.persistSelection) {\n    return stateData.value;\n  } else {\n    return null;\n  }\n}\nvar ComboboxDescendantContext = createDescendantContext(\"ComboboxDescendantContext\");\nvar ComboboxContext = createNamedContext(\"ComboboxContext\", {});\nvar OptionContext = createNamedContext(\"OptionContext\", {});\nvar Combobox = React.forwardRef((_ref5, forwardedRef) => {\n  let {\n    onSelect,\n    openOnFocus = false,\n    children,\n    as: Comp = \"div\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledby,\n    ...props\n  } = _ref5;\n  let [options, setOptions] = useDescendantsInit();\n  let inputRef = React.useRef();\n  let popoverRef = React.useRef();\n  let buttonRef = React.useRef();\n  let autocompletePropRef = React.useRef(false);\n  let persistSelectionRef = React.useRef(false);\n  let defaultData = {\n    value: \"\",\n    navigationValue: null\n  };\n  let [state, data, transition] = useReducerMachine(stateChart, reducer, defaultData);\n  useFocusManagement(data.lastEventType, inputRef);\n  let id = useId(props.id);\n  let listboxId = id ? makeId(\"listbox\", id) : \"listbox\";\n  let isControlledRef = React.useRef(false);\n  let isExpanded = popoverIsExpanded(state);\n  let context = {\n    ariaLabel,\n    ariaLabelledby,\n    autocompletePropRef,\n    buttonRef,\n    comboboxId: id,\n    data,\n    inputRef,\n    isExpanded,\n    listboxId,\n    onSelect: onSelect || noop,\n    openOnFocus,\n    persistSelectionRef,\n    popoverRef,\n    state,\n    transition,\n    isControlledRef\n  };\n  return /* @__PURE__ */React.createElement(DescendantProvider, {\n    context: ComboboxDescendantContext,\n    items: options,\n    set: setOptions\n  }, /* @__PURE__ */React.createElement(ComboboxContext.Provider, {\n    value: context\n  }, /* @__PURE__ */React.createElement(Comp, {\n    ...props,\n    \"data-reach-combobox\": \"\",\n    \"data-state\": getDataState(state),\n    \"data-expanded\": isExpanded || void 0,\n    ref: forwardedRef\n  }, isFunction(children) ? children({\n    id,\n    isExpanded,\n    navigationValue: data.navigationValue ?? null,\n    state\n  }) : children)));\n});\nCombobox.displayName = \"Combobox\";\nvar ComboboxInput = React.forwardRef((_ref6, forwardedRef) => {\n  let {\n    as: Comp = \"input\",\n    selectOnClick = false,\n    autocomplete = true,\n    onClick,\n    onChange,\n    onKeyDown,\n    onBlur,\n    onFocus,\n    value: controlledValue,\n    ...props\n  } = _ref6;\n  let {\n    current: initialControlledValue\n  } = React.useRef(controlledValue);\n  let controlledValueChangedRef = React.useRef(false);\n  useUpdateEffect(() => {\n    controlledValueChangedRef.current = true;\n  }, [controlledValue]);\n  let {\n    data: {\n      navigationValue,\n      value,\n      lastEventType\n    },\n    inputRef,\n    state,\n    transition,\n    listboxId,\n    autocompletePropRef,\n    openOnFocus,\n    isExpanded,\n    ariaLabel,\n    ariaLabelledby,\n    persistSelectionRef,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(inputRef, forwardedRef);\n  let selectOnClickRef = React.useRef(false);\n  let handleKeyDown = useKeyDown();\n  let handleBlur = useBlur();\n  let isControlled = typeof controlledValue !== \"undefined\";\n  let wasInitiallyControlled = typeof initialControlledValue !== \"undefined\";\n  if (true) {\n    if (!isControlled && wasInitiallyControlled) {\n      console.warn(\"ComboboxInput is changing from controlled to uncontrolled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\");\n    }\n    if (isControlled && !wasInitiallyControlled) {\n      console.warn(\"ComboboxInput is changing from uncontrolled to controlled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\");\n    }\n  }\n  React.useEffect(() => {\n    isControlledRef.current = isControlled;\n  }, [isControlled]);\n  useLayoutEffect(() => {\n    autocompletePropRef.current = autocomplete;\n  }, [autocomplete, autocompletePropRef]);\n  let handleValueChange = React.useCallback(value2 => {\n    if (value2.trim() === \"\") {\n      transition(CLEAR, {\n        isControlled\n      });\n    } else if (value2 === initialControlledValue && !controlledValueChangedRef.current) {\n      transition(INITIAL_CHANGE, {\n        value: value2\n      });\n    } else {\n      transition(CHANGE, {\n        value: value2\n      });\n    }\n  }, [initialControlledValue, transition, isControlled]);\n  React.useEffect(() => {\n    if (isControlled && controlledValue !== value && (controlledValue.trim() === \"\" ? (value || \"\").trim() !== \"\" : true)) {\n      handleValueChange(controlledValue);\n    }\n  }, [controlledValue, handleValueChange, isControlled, value]);\n  React.useEffect(() => {\n    let form = inputRef.current?.form;\n    if (!form) return;\n    function handleReset(event) {\n      transition(CLEAR, {\n        isControlled\n      });\n    }\n    form.addEventListener(\"reset\", handleReset);\n    return () => {\n      form?.removeEventListener(\"reset\", handleReset);\n    };\n  }, [inputRef, isControlled, transition]);\n  function handleChange(event) {\n    let {\n      value: value2\n    } = event.target;\n    if (!isControlled) {\n      handleValueChange(value2);\n    }\n  }\n  function handleFocus() {\n    if (selectOnClick) {\n      selectOnClickRef.current = true;\n    }\n    if (openOnFocus && lastEventType !== SELECT_WITH_CLICK) {\n      transition(FOCUS, {\n        persistSelection: persistSelectionRef.current\n      });\n    }\n  }\n  function handleClick() {\n    if (selectOnClickRef.current) {\n      selectOnClickRef.current = false;\n      inputRef.current?.select();\n    }\n    if (openOnFocus && state === IDLE) {\n      transition(OPEN_WITH_INPUT_CLICK);\n    }\n  }\n  let inputValue = autocomplete && (state === NAVIGATING || state === INTERACTING) ? navigationValue || controlledValue || value : controlledValue || value;\n  return /* @__PURE__ */React.createElement(Comp, {\n    \"aria-activedescendant\": navigationValue ? String(makeHash(navigationValue)) : void 0,\n    \"aria-autocomplete\": \"both\",\n    \"aria-controls\": listboxId,\n    \"aria-expanded\": isExpanded,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabel ? void 0 : ariaLabelledby,\n    role: \"combobox\",\n    ...props,\n    \"data-reach-combobox-input\": \"\",\n    \"data-state\": getDataState(state),\n    ref,\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    onChange: composeEventHandlers(onChange, handleChange),\n    onClick: composeEventHandlers(onClick, handleClick),\n    onFocus: composeEventHandlers(onFocus, handleFocus),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    value: inputValue || \"\"\n  });\n});\nComboboxInput.displayName = \"ComboboxInput\";\nvar ComboboxPopover = React.forwardRef((_ref7, forwardedRef) => {\n  let {\n    as: Comp = \"div\",\n    children,\n    portal = true,\n    onKeyDown,\n    onBlur,\n    position = positionMatchWidth,\n    ...props\n  } = _ref7;\n  let {\n    popoverRef,\n    inputRef,\n    isExpanded,\n    state\n  } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(popoverRef, forwardedRef);\n  let handleKeyDown = useKeyDown();\n  let handleBlur = useBlur();\n  let sharedProps = {\n    \"data-reach-combobox-popover\": \"\",\n    \"data-state\": getDataState(state),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    hidden: !isExpanded,\n    tabIndex: -1,\n    children\n  };\n  return portal ? /* @__PURE__ */React.createElement(Popover, {\n    as: Comp,\n    ...props,\n    ref,\n    \"data-expanded\": isExpanded || void 0,\n    position,\n    targetRef: inputRef,\n    unstable_skipInitialPortalRender: true,\n    ...sharedProps\n  }) : /* @__PURE__ */React.createElement(Comp, {\n    ref,\n    ...props,\n    ...sharedProps\n  });\n});\nComboboxPopover.displayName = \"ComboboxPopover\";\nvar ComboboxList = React.forwardRef((_ref8, forwardedRef) => {\n  let {\n    persistSelection = false,\n    as: Comp = \"ul\",\n    ...props\n  } = _ref8;\n  let {\n    persistSelectionRef,\n    listboxId\n  } = React.useContext(ComboboxContext);\n  if (persistSelection) {\n    persistSelectionRef.current = true;\n  }\n  return /* @__PURE__ */React.createElement(Comp, {\n    role: \"listbox\",\n    ...props,\n    ref: forwardedRef,\n    \"data-reach-combobox-list\": \"\",\n    id: listboxId\n  });\n});\nComboboxList.displayName = \"ComboboxList\";\nvar ComboboxOption = React.forwardRef((_ref9, forwardedRef) => {\n  let {\n    as: Comp = \"li\",\n    children,\n    index: indexProp,\n    value,\n    onClick,\n    ...props\n  } = _ref9;\n  let {\n    onSelect,\n    data: {\n      navigationValue\n    },\n    transition,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let ownRef = React.useRef(null);\n  let [element, handleRefSet] = useStatefulRefValue(ownRef, null);\n  let descendant = React.useMemo(() => {\n    return {\n      element,\n      value\n    };\n  }, [value, element]);\n  let index = useDescendant(descendant, ComboboxDescendantContext, indexProp);\n  let ref = useComposedRefs(forwardedRef, handleRefSet);\n  let isActive = navigationValue === value;\n  let handleClick = () => {\n    onSelect && onSelect(value);\n    transition(SELECT_WITH_CLICK, {\n      value,\n      isControlled: isControlledRef.current\n    });\n  };\n  return /* @__PURE__ */React.createElement(OptionContext.Provider, {\n    value: {\n      value,\n      index\n    }\n  }, /* @__PURE__ */React.createElement(Comp, {\n    \"aria-selected\": isActive,\n    role: \"option\",\n    ...props,\n    \"data-reach-combobox-option\": \"\",\n    ref,\n    id: String(makeHash(value)),\n    \"data-highlighted\": isActive ? \"\" : void 0,\n    tabIndex: -1,\n    onClick: composeEventHandlers(onClick, handleClick)\n  }, children ? isFunction(children) ? children({\n    value,\n    index\n  }) : children : /* @__PURE__ */React.createElement(ComboboxOptionText, null)));\n});\nComboboxOption.displayName = \"ComboboxOption\";\nfunction ComboboxOptionText() {\n  let {\n    value\n  } = React.useContext(OptionContext);\n  let {\n    data: {\n      value: contextValue\n    }\n  } = React.useContext(ComboboxContext);\n  let results = React.useMemo(() => HighlightWords.findAll({\n    searchWords: escapeRegexp(contextValue || \"\").split(/\\s+/),\n    textToHighlight: value\n  }), [contextValue, value]);\n  return /* @__PURE__ */React.createElement(React.Fragment, null, results.length ? results.map((result, index) => {\n    let str = value.slice(result.start, result.end);\n    return /* @__PURE__ */React.createElement(\"span\", {\n      key: index,\n      \"data-reach-combobox-option-text\": \"\",\n      \"data-user-value\": result.highlight ? true : void 0,\n      \"data-suggested-value\": result.highlight ? void 0 : true\n    }, str);\n  }) : value);\n}\nComboboxOptionText.displayName = \"ComboboxOptionText\";\nvar ComboboxButton = React.forwardRef((_ref10, forwardedRef) => {\n  let {\n    as: Comp = \"button\",\n    onClick,\n    onKeyDown,\n    ...props\n  } = _ref10;\n  let {\n    transition,\n    state,\n    buttonRef,\n    listboxId,\n    isExpanded\n  } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(buttonRef, forwardedRef);\n  let handleKeyDown = useKeyDown();\n  let handleClick = () => {\n    if (state === IDLE) {\n      transition(OPEN_WITH_BUTTON);\n    } else {\n      transition(CLOSE_WITH_BUTTON);\n    }\n  };\n  return /* @__PURE__ */React.createElement(Comp, {\n    \"aria-controls\": listboxId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-expanded\": isExpanded,\n    ...props,\n    \"data-reach-combobox-button\": \"\",\n    ref,\n    onClick: composeEventHandlers(onClick, handleClick),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown)\n  });\n});\nComboboxButton.displayName = \"ComboboxButton\";\nfunction useFocusManagement(lastEventType, inputRef) {\n  useLayoutEffect(() => {\n    if (lastEventType === NAVIGATE || lastEventType === ESCAPE || lastEventType === SELECT_WITH_CLICK || lastEventType === OPEN_WITH_BUTTON) {\n      inputRef.current?.focus();\n    }\n  }, [inputRef, lastEventType]);\n}\nfunction useKeyDown() {\n  let {\n    data: {\n      navigationValue\n    },\n    onSelect,\n    state,\n    transition,\n    autocompletePropRef,\n    persistSelectionRef,\n    inputRef,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let options = useDescendants(ComboboxDescendantContext);\n  return function handleKeyDown(event) {\n    let index = options.findIndex(_ref11 => {\n      let {\n        value\n      } = _ref11;\n      return value === navigationValue;\n    });\n    function getNextOption() {\n      let atBottom = index === options.length - 1;\n      if (atBottom) {\n        if (autocompletePropRef.current) {\n          return null;\n        } else {\n          return getFirstOption();\n        }\n      } else {\n        return options[(index + 1) % options.length];\n      }\n    }\n    function getPreviousOption() {\n      let atTop = index === 0;\n      if (atTop) {\n        if (autocompletePropRef.current) {\n          return null;\n        } else {\n          return getLastOption();\n        }\n      } else if (index === -1) {\n        return getLastOption();\n      } else {\n        return options[(index - 1 + options.length) % options.length];\n      }\n    }\n    function getFirstOption() {\n      return options[0];\n    }\n    function getLastOption() {\n      return options[options.length - 1];\n    }\n    let textareaHasMultilineValue = inputRef.current?.tagName.toUpperCase() === \"TEXTAREA\" && inputRef.current.value.includes(`\n`);\n    switch (event.key) {\n      case \"ArrowDown\":\n        if (!options || !options.length) {\n          return;\n        }\n        if (state === IDLE) {\n          if (textareaHasMultilineValue) {\n            return;\n          }\n          event.preventDefault();\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          event.preventDefault();\n          let next = getNextOption();\n          transition(NAVIGATE, {\n            value: next ? next.value : null\n          });\n        }\n        break;\n      case \"ArrowUp\":\n        if (!options || !options.length) {\n          return;\n        }\n        if (state === IDLE) {\n          if (textareaHasMultilineValue) {\n            return;\n          }\n          event.preventDefault();\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          event.preventDefault();\n          let prev = getPreviousOption();\n          transition(NAVIGATE, {\n            value: prev ? prev.value : null\n          });\n        }\n        break;\n      case \"Home\":\n      case \"PageUp\":\n        event.preventDefault();\n        if (!options || options.length === 0) {\n          return;\n        }\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getFirstOption().value\n          });\n        }\n        break;\n      case \"End\":\n      case \"PageDown\":\n        event.preventDefault();\n        if (!options || options.length === 0) {\n          return;\n        }\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getLastOption().value\n          });\n        }\n        break;\n      case \"Escape\":\n        if (state !== IDLE) {\n          transition(ESCAPE);\n        }\n        break;\n      case \"Enter\":\n        if (state === NAVIGATING && navigationValue !== null) {\n          event.preventDefault();\n          onSelect && onSelect(navigationValue);\n          transition(SELECT_WITH_KEYBOARD, {\n            isControlled: isControlledRef.current\n          });\n        }\n        break;\n    }\n  };\n}\nfunction useBlur() {\n  let {\n    state,\n    transition,\n    popoverRef,\n    inputRef,\n    buttonRef\n  } = React.useContext(ComboboxContext);\n  return function handleBlur(event) {\n    let popover = popoverRef.current;\n    let input = inputRef.current;\n    let button = buttonRef.current;\n    let activeElement = event.relatedTarget;\n    if (activeElement !== input && activeElement !== button && popover) {\n      if (popover.contains(activeElement)) {\n        if (state !== INTERACTING) {\n          transition(INTERACT);\n        }\n      } else {\n        transition(BLUR);\n      }\n    }\n  };\n}\nfunction useReducerMachine(chart, reducer2, initialData) {\n  let [state, setState] = React.useState(chart.initial);\n  let [data, dispatch] = React.useReducer(reducer2, initialData);\n  let transition = function (event) {\n    let payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let currentState = chart.states[state];\n    let nextState = currentState && currentState.on[event];\n    if (nextState) {\n      dispatch({\n        type: event,\n        state,\n        nextState: state,\n        ...payload\n      });\n      setState(nextState);\n      return;\n    }\n  };\n  return [state, data, transition];\n}\nfunction makeHash(str) {\n  let hash = 0;\n  if (str.length === 0) {\n    return hash;\n  }\n  for (let i = 0; i < str.length; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash = hash & hash;\n  }\n  return hash;\n}\nfunction getDataState(state) {\n  return state.toLowerCase();\n}\nfunction escapeRegexp(str) {\n  return String(str).replace(/([.*+?=^!:${}()|[\\]/\\\\])/g, \"\\\\$1\");\n}\nfunction useComboboxContext() {\n  let {\n    isExpanded,\n    comboboxId,\n    data,\n    state\n  } = React.useContext(ComboboxContext);\n  let {\n    navigationValue\n  } = data;\n  return React.useMemo(() => ({\n    id: comboboxId,\n    isExpanded,\n    navigationValue: navigationValue ?? null,\n    state\n  }), [comboboxId, isExpanded, navigationValue, state]);\n}\nfunction useComboboxOptionContext() {\n  let {\n    value,\n    index\n  } = React.useContext(OptionContext);\n  return React.useMemo(() => ({\n    value,\n    index\n  }), [value, index]);\n}\nexport { Combobox, ComboboxButton, ComboboxInput, ComboboxList, ComboboxOption, ComboboxOptionText, ComboboxPopover, escapeRegexp, useKeyDown as unstable_useKeyDown, useComboboxContext, useComboboxOptionContext };","map":{"version":3,"names":["React","createNamedContext","composeEventHandlers","isFunction","makeId","noop","useComposedRefs","useIsomorphicLayoutEffect","useLayoutEffect","useStatefulRefValue","useUpdateEffect","createDescendantContext","DescendantProvider","useDescendant","useDescendants","useDescendantsInit","findAll","_ref","autoEscape","caseSensitive","findChunks","defaultFindChunks","sanitize","searchWords","textToHighlight","fillInChunks","chunksToHighlight","combineChunks","chunks","totalLength","length","_ref2","sort","first","second","start","reduce","processedChunks","nextChunk","prevChunk","pop","end","endIndex","Math","max","push","highlight","_ref3","defaultSanitize","filter","searchWord","escapeRegExpFn","regex","RegExp","match","exec","index","lastIndex","_ref4","allChunks","append","forEach","chunk","string","replace","HighlightWords","useId","Popover","positionMatchWidth","IDLE","SUGGESTING","NAVIGATING","INTERACTING","CLEAR","CHANGE","INITIAL_CHANGE","NAVIGATE","SELECT_WITH_KEYBOARD","SELECT_WITH_CLICK","ESCAPE","BLUR","INTERACT","FOCUS","OPEN_WITH_BUTTON","OPEN_WITH_INPUT_CLICK","CLOSE_WITH_BUTTON","stateChart","initial","states","on","reducer","data","event","nextState","lastEventType","type","navigationValue","value","findNavigationValue","isControlled","popoverIsExpanded","state","includes","stateData","persistSelection","ComboboxDescendantContext","ComboboxContext","OptionContext","Combobox","forwardRef","_ref5","forwardedRef","onSelect","openOnFocus","children","as","Comp","ariaLabel","ariaLabelledby","props","options","setOptions","inputRef","useRef","popoverRef","buttonRef","autocompletePropRef","persistSelectionRef","defaultData","transition","useReducerMachine","useFocusManagement","id","listboxId","isControlledRef","isExpanded","context","comboboxId","createElement","items","set","Provider","getDataState","ref","displayName","ComboboxInput","_ref6","selectOnClick","autocomplete","onClick","onChange","onKeyDown","onBlur","onFocus","controlledValue","current","initialControlledValue","controlledValueChangedRef","useContext","selectOnClickRef","handleKeyDown","useKeyDown","handleBlur","useBlur","wasInitiallyControlled","console","warn","useEffect","handleValueChange","useCallback","value2","trim","form","handleReset","addEventListener","removeEventListener","handleChange","target","handleFocus","handleClick","select","inputValue","String","makeHash","role","ComboboxPopover","_ref7","portal","position","sharedProps","hidden","tabIndex","targetRef","unstable_skipInitialPortalRender","ComboboxList","_ref8","ComboboxOption","_ref9","indexProp","ownRef","element","handleRefSet","descendant","useMemo","isActive","ComboboxOptionText","contextValue","results","escapeRegexp","split","Fragment","map","result","str","slice","key","ComboboxButton","_ref10","focus","findIndex","_ref11","getNextOption","atBottom","getFirstOption","getPreviousOption","atTop","getLastOption","textareaHasMultilineValue","tagName","toUpperCase","preventDefault","next","prev","popover","input","button","activeElement","relatedTarget","contains","chart","reducer2","initialData","setState","useState","dispatch","useReducer","payload","arguments","undefined","currentState","hash","i","charCodeAt","toLowerCase","useComboboxContext","useComboboxOptionContext","unstable_useKeyDown"],"sources":["/Users/Akebu/Documents/PERSONAL/Hackathon /places-map/node_modules/@reach/combobox/dist/reach-combobox.mjs"],"sourcesContent":["\"use strict\";\n/**\n  * @reach/combobox v0.18.0\n  *\n  * Copyright (c) 2018-2022, React Training LLC\n  *\n  * This source code is licensed under the MIT license found in the\n  * LICENSE.md file in the root directory of this source tree.\n  *\n  * @license MIT\n  */\n\n\n// src/reach-combobox.tsx\nimport * as React from \"react\";\nimport {\n  createNamedContext,\n  composeEventHandlers,\n  isFunction,\n  makeId,\n  noop,\n  useComposedRefs,\n  useIsomorphicLayoutEffect as useLayoutEffect,\n  useStatefulRefValue,\n  useUpdateEffect\n} from \"@reach/utils\";\nimport {\n  createDescendantContext,\n  DescendantProvider,\n  useDescendant,\n  useDescendants,\n  useDescendantsInit\n} from \"@reach/descendants\";\n\n// src/utils.ts\nfunction findAll({\n  autoEscape,\n  caseSensitive = false,\n  findChunks = defaultFindChunks,\n  sanitize,\n  searchWords,\n  textToHighlight\n}) {\n  return fillInChunks({\n    chunksToHighlight: combineChunks({\n      chunks: findChunks({\n        autoEscape,\n        caseSensitive,\n        sanitize,\n        searchWords,\n        textToHighlight\n      })\n    }),\n    totalLength: textToHighlight ? textToHighlight.length : 0\n  });\n}\nfunction combineChunks({ chunks }) {\n  return chunks.sort((first, second) => first.start - second.start).reduce((processedChunks, nextChunk) => {\n    if (processedChunks.length === 0) {\n      return [nextChunk];\n    } else {\n      const prevChunk = processedChunks.pop();\n      if (nextChunk.start <= prevChunk.end) {\n        const endIndex = Math.max(prevChunk.end, nextChunk.end);\n        processedChunks.push({\n          highlight: false,\n          start: prevChunk.start,\n          end: endIndex\n        });\n      } else {\n        processedChunks.push(prevChunk, nextChunk);\n      }\n      return processedChunks;\n    }\n  }, []);\n}\nfunction defaultFindChunks({\n  autoEscape,\n  caseSensitive,\n  sanitize = defaultSanitize,\n  searchWords,\n  textToHighlight\n}) {\n  textToHighlight = sanitize(textToHighlight || \"\");\n  return searchWords.filter((searchWord) => searchWord).reduce((chunks, searchWord) => {\n    searchWord = sanitize(searchWord);\n    if (autoEscape) {\n      searchWord = escapeRegExpFn(searchWord);\n    }\n    const regex = new RegExp(searchWord, caseSensitive ? \"g\" : \"gi\");\n    let match;\n    while (match = regex.exec(textToHighlight || \"\")) {\n      let start = match.index;\n      let end = regex.lastIndex;\n      if (end > start) {\n        chunks.push({ highlight: false, start, end });\n      }\n      if (match.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n    }\n    return chunks;\n  }, []);\n}\nfunction fillInChunks({\n  chunksToHighlight,\n  totalLength\n}) {\n  const allChunks = [];\n  if (chunksToHighlight.length === 0) {\n    append(0, totalLength, false);\n  } else {\n    let lastIndex = 0;\n    chunksToHighlight.forEach((chunk) => {\n      append(lastIndex, chunk.start, false);\n      append(chunk.start, chunk.end, true);\n      lastIndex = chunk.end;\n    });\n    append(lastIndex, totalLength, false);\n  }\n  return allChunks;\n  function append(start, end, highlight) {\n    if (end - start > 0) {\n      allChunks.push({\n        start,\n        end,\n        highlight\n      });\n    }\n  }\n}\nfunction defaultSanitize(string) {\n  return string;\n}\nfunction escapeRegExpFn(string) {\n  return string.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, \"\\\\$&\");\n}\nvar HighlightWords = {\n  combineChunks,\n  fillInChunks,\n  findAll,\n  findChunks: defaultFindChunks\n};\n\n// src/reach-combobox.tsx\nimport { useId } from \"@reach/auto-id\";\nimport { Popover, positionMatchWidth } from \"@reach/popover\";\nvar IDLE = \"IDLE\";\nvar SUGGESTING = \"SUGGESTING\";\nvar NAVIGATING = \"NAVIGATING\";\nvar INTERACTING = \"INTERACTING\";\nvar CLEAR = \"CLEAR\";\nvar CHANGE = \"CHANGE\";\nvar INITIAL_CHANGE = \"INITIAL_CHANGE\";\nvar NAVIGATE = \"NAVIGATE\";\nvar SELECT_WITH_KEYBOARD = \"SELECT_WITH_KEYBOARD\";\nvar SELECT_WITH_CLICK = \"SELECT_WITH_CLICK\";\nvar ESCAPE = \"ESCAPE\";\nvar BLUR = \"BLUR\";\nvar INTERACT = \"INTERACT\";\nvar FOCUS = \"FOCUS\";\nvar OPEN_WITH_BUTTON = \"OPEN_WITH_BUTTON\";\nvar OPEN_WITH_INPUT_CLICK = \"OPEN_WITH_INPUT_CLICK\";\nvar CLOSE_WITH_BUTTON = \"CLOSE_WITH_BUTTON\";\nvar stateChart = {\n  initial: IDLE,\n  states: {\n    [IDLE]: {\n      on: {\n        [BLUR]: IDLE,\n        [CLEAR]: IDLE,\n        [CHANGE]: SUGGESTING,\n        [INITIAL_CHANGE]: IDLE,\n        [FOCUS]: SUGGESTING,\n        [NAVIGATE]: NAVIGATING,\n        [OPEN_WITH_BUTTON]: SUGGESTING,\n        [OPEN_WITH_INPUT_CLICK]: SUGGESTING\n      }\n    },\n    [SUGGESTING]: {\n      on: {\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [NAVIGATE]: NAVIGATING,\n        [CLEAR]: IDLE,\n        [ESCAPE]: IDLE,\n        [BLUR]: IDLE,\n        [SELECT_WITH_CLICK]: IDLE,\n        [INTERACT]: INTERACTING,\n        [CLOSE_WITH_BUTTON]: IDLE\n      }\n    },\n    [NAVIGATING]: {\n      on: {\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [CLEAR]: IDLE,\n        [BLUR]: IDLE,\n        [ESCAPE]: IDLE,\n        [NAVIGATE]: NAVIGATING,\n        [SELECT_WITH_CLICK]: IDLE,\n        [SELECT_WITH_KEYBOARD]: IDLE,\n        [CLOSE_WITH_BUTTON]: IDLE,\n        [INTERACT]: INTERACTING\n      }\n    },\n    [INTERACTING]: {\n      on: {\n        [CLEAR]: IDLE,\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [BLUR]: IDLE,\n        [ESCAPE]: IDLE,\n        [NAVIGATE]: NAVIGATING,\n        [CLOSE_WITH_BUTTON]: IDLE,\n        [SELECT_WITH_CLICK]: IDLE\n      }\n    }\n  }\n};\nvar reducer = (data, event) => {\n  let nextState = { ...data, lastEventType: event.type };\n  switch (event.type) {\n    case CHANGE:\n    case INITIAL_CHANGE:\n      return {\n        ...nextState,\n        navigationValue: null,\n        value: event.value\n      };\n    case NAVIGATE:\n    case OPEN_WITH_BUTTON:\n    case OPEN_WITH_INPUT_CLICK:\n      return {\n        ...nextState,\n        navigationValue: findNavigationValue(nextState, event)\n      };\n    case CLEAR:\n      return {\n        ...nextState,\n        value: \"\",\n        navigationValue: null\n      };\n    case BLUR:\n    case ESCAPE:\n      return {\n        ...nextState,\n        navigationValue: null\n      };\n    case SELECT_WITH_CLICK:\n      return {\n        ...nextState,\n        value: event.isControlled ? data.value : event.value,\n        navigationValue: null\n      };\n    case SELECT_WITH_KEYBOARD:\n      return {\n        ...nextState,\n        value: event.isControlled ? data.value : data.navigationValue,\n        navigationValue: null\n      };\n    case CLOSE_WITH_BUTTON:\n      return {\n        ...nextState,\n        navigationValue: null\n      };\n    case INTERACT:\n      return nextState;\n    case FOCUS:\n      return {\n        ...nextState,\n        navigationValue: findNavigationValue(nextState, event)\n      };\n    default:\n      return nextState;\n  }\n};\nfunction popoverIsExpanded(state) {\n  return [SUGGESTING, NAVIGATING, INTERACTING].includes(state);\n}\nfunction findNavigationValue(stateData, event) {\n  if (event.value) {\n    return event.value;\n  } else if (event.persistSelection) {\n    return stateData.value;\n  } else {\n    return null;\n  }\n}\nvar ComboboxDescendantContext = createDescendantContext(\"ComboboxDescendantContext\");\nvar ComboboxContext = createNamedContext(\"ComboboxContext\", {});\nvar OptionContext = createNamedContext(\"OptionContext\", {});\nvar Combobox = React.forwardRef(({\n  onSelect,\n  openOnFocus = false,\n  children,\n  as: Comp = \"div\",\n  \"aria-label\": ariaLabel,\n  \"aria-labelledby\": ariaLabelledby,\n  ...props\n}, forwardedRef) => {\n  let [options, setOptions] = useDescendantsInit();\n  let inputRef = React.useRef();\n  let popoverRef = React.useRef();\n  let buttonRef = React.useRef();\n  let autocompletePropRef = React.useRef(false);\n  let persistSelectionRef = React.useRef(false);\n  let defaultData = {\n    value: \"\",\n    navigationValue: null\n  };\n  let [state, data, transition] = useReducerMachine(stateChart, reducer, defaultData);\n  useFocusManagement(data.lastEventType, inputRef);\n  let id = useId(props.id);\n  let listboxId = id ? makeId(\"listbox\", id) : \"listbox\";\n  let isControlledRef = React.useRef(false);\n  let isExpanded = popoverIsExpanded(state);\n  let context = {\n    ariaLabel,\n    ariaLabelledby,\n    autocompletePropRef,\n    buttonRef,\n    comboboxId: id,\n    data,\n    inputRef,\n    isExpanded,\n    listboxId,\n    onSelect: onSelect || noop,\n    openOnFocus,\n    persistSelectionRef,\n    popoverRef,\n    state,\n    transition,\n    isControlledRef\n  };\n  return /* @__PURE__ */ React.createElement(DescendantProvider, {\n    context: ComboboxDescendantContext,\n    items: options,\n    set: setOptions\n  }, /* @__PURE__ */ React.createElement(ComboboxContext.Provider, {\n    value: context\n  }, /* @__PURE__ */ React.createElement(Comp, {\n    ...props,\n    \"data-reach-combobox\": \"\",\n    \"data-state\": getDataState(state),\n    \"data-expanded\": isExpanded || void 0,\n    ref: forwardedRef\n  }, isFunction(children) ? children({\n    id,\n    isExpanded,\n    navigationValue: data.navigationValue ?? null,\n    state\n  }) : children)));\n});\nCombobox.displayName = \"Combobox\";\nvar ComboboxInput = React.forwardRef(({\n  as: Comp = \"input\",\n  selectOnClick = false,\n  autocomplete = true,\n  onClick,\n  onChange,\n  onKeyDown,\n  onBlur,\n  onFocus,\n  value: controlledValue,\n  ...props\n}, forwardedRef) => {\n  let { current: initialControlledValue } = React.useRef(controlledValue);\n  let controlledValueChangedRef = React.useRef(false);\n  useUpdateEffect(() => {\n    controlledValueChangedRef.current = true;\n  }, [controlledValue]);\n  let {\n    data: { navigationValue, value, lastEventType },\n    inputRef,\n    state,\n    transition,\n    listboxId,\n    autocompletePropRef,\n    openOnFocus,\n    isExpanded,\n    ariaLabel,\n    ariaLabelledby,\n    persistSelectionRef,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(inputRef, forwardedRef);\n  let selectOnClickRef = React.useRef(false);\n  let handleKeyDown = useKeyDown();\n  let handleBlur = useBlur();\n  let isControlled = typeof controlledValue !== \"undefined\";\n  let wasInitiallyControlled = typeof initialControlledValue !== \"undefined\";\n  if (true) {\n    if (!isControlled && wasInitiallyControlled) {\n      console.warn(\"ComboboxInput is changing from controlled to uncontrolled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\");\n    }\n    if (isControlled && !wasInitiallyControlled) {\n      console.warn(\"ComboboxInput is changing from uncontrolled to controlled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\");\n    }\n  }\n  React.useEffect(() => {\n    isControlledRef.current = isControlled;\n  }, [isControlled]);\n  useLayoutEffect(() => {\n    autocompletePropRef.current = autocomplete;\n  }, [autocomplete, autocompletePropRef]);\n  let handleValueChange = React.useCallback((value2) => {\n    if (value2.trim() === \"\") {\n      transition(CLEAR, { isControlled });\n    } else if (value2 === initialControlledValue && !controlledValueChangedRef.current) {\n      transition(INITIAL_CHANGE, { value: value2 });\n    } else {\n      transition(CHANGE, { value: value2 });\n    }\n  }, [initialControlledValue, transition, isControlled]);\n  React.useEffect(() => {\n    if (isControlled && controlledValue !== value && (controlledValue.trim() === \"\" ? (value || \"\").trim() !== \"\" : true)) {\n      handleValueChange(controlledValue);\n    }\n  }, [controlledValue, handleValueChange, isControlled, value]);\n  React.useEffect(() => {\n    let form = inputRef.current?.form;\n    if (!form)\n      return;\n    function handleReset(event) {\n      transition(CLEAR, { isControlled });\n    }\n    form.addEventListener(\"reset\", handleReset);\n    return () => {\n      form?.removeEventListener(\"reset\", handleReset);\n    };\n  }, [inputRef, isControlled, transition]);\n  function handleChange(event) {\n    let { value: value2 } = event.target;\n    if (!isControlled) {\n      handleValueChange(value2);\n    }\n  }\n  function handleFocus() {\n    if (selectOnClick) {\n      selectOnClickRef.current = true;\n    }\n    if (openOnFocus && lastEventType !== SELECT_WITH_CLICK) {\n      transition(FOCUS, {\n        persistSelection: persistSelectionRef.current\n      });\n    }\n  }\n  function handleClick() {\n    if (selectOnClickRef.current) {\n      selectOnClickRef.current = false;\n      inputRef.current?.select();\n    }\n    if (openOnFocus && state === IDLE) {\n      transition(OPEN_WITH_INPUT_CLICK);\n    }\n  }\n  let inputValue = autocomplete && (state === NAVIGATING || state === INTERACTING) ? navigationValue || controlledValue || value : controlledValue || value;\n  return /* @__PURE__ */ React.createElement(Comp, {\n    \"aria-activedescendant\": navigationValue ? String(makeHash(navigationValue)) : void 0,\n    \"aria-autocomplete\": \"both\",\n    \"aria-controls\": listboxId,\n    \"aria-expanded\": isExpanded,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabel ? void 0 : ariaLabelledby,\n    role: \"combobox\",\n    ...props,\n    \"data-reach-combobox-input\": \"\",\n    \"data-state\": getDataState(state),\n    ref,\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    onChange: composeEventHandlers(onChange, handleChange),\n    onClick: composeEventHandlers(onClick, handleClick),\n    onFocus: composeEventHandlers(onFocus, handleFocus),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    value: inputValue || \"\"\n  });\n});\nComboboxInput.displayName = \"ComboboxInput\";\nvar ComboboxPopover = React.forwardRef(({\n  as: Comp = \"div\",\n  children,\n  portal = true,\n  onKeyDown,\n  onBlur,\n  position = positionMatchWidth,\n  ...props\n}, forwardedRef) => {\n  let { popoverRef, inputRef, isExpanded, state } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(popoverRef, forwardedRef);\n  let handleKeyDown = useKeyDown();\n  let handleBlur = useBlur();\n  let sharedProps = {\n    \"data-reach-combobox-popover\": \"\",\n    \"data-state\": getDataState(state),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    hidden: !isExpanded,\n    tabIndex: -1,\n    children\n  };\n  return portal ? /* @__PURE__ */ React.createElement(Popover, {\n    as: Comp,\n    ...props,\n    ref,\n    \"data-expanded\": isExpanded || void 0,\n    position,\n    targetRef: inputRef,\n    unstable_skipInitialPortalRender: true,\n    ...sharedProps\n  }) : /* @__PURE__ */ React.createElement(Comp, {\n    ref,\n    ...props,\n    ...sharedProps\n  });\n});\nComboboxPopover.displayName = \"ComboboxPopover\";\nvar ComboboxList = React.forwardRef(({\n  persistSelection = false,\n  as: Comp = \"ul\",\n  ...props\n}, forwardedRef) => {\n  let { persistSelectionRef, listboxId } = React.useContext(ComboboxContext);\n  if (persistSelection) {\n    persistSelectionRef.current = true;\n  }\n  return /* @__PURE__ */ React.createElement(Comp, {\n    role: \"listbox\",\n    ...props,\n    ref: forwardedRef,\n    \"data-reach-combobox-list\": \"\",\n    id: listboxId\n  });\n});\nComboboxList.displayName = \"ComboboxList\";\nvar ComboboxOption = React.forwardRef(({ as: Comp = \"li\", children, index: indexProp, value, onClick, ...props }, forwardedRef) => {\n  let {\n    onSelect,\n    data: { navigationValue },\n    transition,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let ownRef = React.useRef(null);\n  let [element, handleRefSet] = useStatefulRefValue(ownRef, null);\n  let descendant = React.useMemo(() => {\n    return {\n      element,\n      value\n    };\n  }, [value, element]);\n  let index = useDescendant(descendant, ComboboxDescendantContext, indexProp);\n  let ref = useComposedRefs(forwardedRef, handleRefSet);\n  let isActive = navigationValue === value;\n  let handleClick = () => {\n    onSelect && onSelect(value);\n    transition(SELECT_WITH_CLICK, {\n      value,\n      isControlled: isControlledRef.current\n    });\n  };\n  return /* @__PURE__ */ React.createElement(OptionContext.Provider, {\n    value: { value, index }\n  }, /* @__PURE__ */ React.createElement(Comp, {\n    \"aria-selected\": isActive,\n    role: \"option\",\n    ...props,\n    \"data-reach-combobox-option\": \"\",\n    ref,\n    id: String(makeHash(value)),\n    \"data-highlighted\": isActive ? \"\" : void 0,\n    tabIndex: -1,\n    onClick: composeEventHandlers(onClick, handleClick)\n  }, children ? isFunction(children) ? children({ value, index }) : children : /* @__PURE__ */ React.createElement(ComboboxOptionText, null)));\n});\nComboboxOption.displayName = \"ComboboxOption\";\nfunction ComboboxOptionText() {\n  let { value } = React.useContext(OptionContext);\n  let {\n    data: { value: contextValue }\n  } = React.useContext(ComboboxContext);\n  let results = React.useMemo(() => HighlightWords.findAll({\n    searchWords: escapeRegexp(contextValue || \"\").split(/\\s+/),\n    textToHighlight: value\n  }), [contextValue, value]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, results.length ? results.map((result, index) => {\n    let str = value.slice(result.start, result.end);\n    return /* @__PURE__ */ React.createElement(\"span\", {\n      key: index,\n      \"data-reach-combobox-option-text\": \"\",\n      \"data-user-value\": result.highlight ? true : void 0,\n      \"data-suggested-value\": result.highlight ? void 0 : true\n    }, str);\n  }) : value);\n}\nComboboxOptionText.displayName = \"ComboboxOptionText\";\nvar ComboboxButton = React.forwardRef(({ as: Comp = \"button\", onClick, onKeyDown, ...props }, forwardedRef) => {\n  let { transition, state, buttonRef, listboxId, isExpanded } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(buttonRef, forwardedRef);\n  let handleKeyDown = useKeyDown();\n  let handleClick = () => {\n    if (state === IDLE) {\n      transition(OPEN_WITH_BUTTON);\n    } else {\n      transition(CLOSE_WITH_BUTTON);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(Comp, {\n    \"aria-controls\": listboxId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-expanded\": isExpanded,\n    ...props,\n    \"data-reach-combobox-button\": \"\",\n    ref,\n    onClick: composeEventHandlers(onClick, handleClick),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown)\n  });\n});\nComboboxButton.displayName = \"ComboboxButton\";\nfunction useFocusManagement(lastEventType, inputRef) {\n  useLayoutEffect(() => {\n    if (lastEventType === NAVIGATE || lastEventType === ESCAPE || lastEventType === SELECT_WITH_CLICK || lastEventType === OPEN_WITH_BUTTON) {\n      inputRef.current?.focus();\n    }\n  }, [inputRef, lastEventType]);\n}\nfunction useKeyDown() {\n  let {\n    data: { navigationValue },\n    onSelect,\n    state,\n    transition,\n    autocompletePropRef,\n    persistSelectionRef,\n    inputRef,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let options = useDescendants(ComboboxDescendantContext);\n  return function handleKeyDown(event) {\n    let index = options.findIndex(({ value }) => value === navigationValue);\n    function getNextOption() {\n      let atBottom = index === options.length - 1;\n      if (atBottom) {\n        if (autocompletePropRef.current) {\n          return null;\n        } else {\n          return getFirstOption();\n        }\n      } else {\n        return options[(index + 1) % options.length];\n      }\n    }\n    function getPreviousOption() {\n      let atTop = index === 0;\n      if (atTop) {\n        if (autocompletePropRef.current) {\n          return null;\n        } else {\n          return getLastOption();\n        }\n      } else if (index === -1) {\n        return getLastOption();\n      } else {\n        return options[(index - 1 + options.length) % options.length];\n      }\n    }\n    function getFirstOption() {\n      return options[0];\n    }\n    function getLastOption() {\n      return options[options.length - 1];\n    }\n    let textareaHasMultilineValue = inputRef.current?.tagName.toUpperCase() === \"TEXTAREA\" && inputRef.current.value.includes(`\n`);\n    switch (event.key) {\n      case \"ArrowDown\":\n        if (!options || !options.length) {\n          return;\n        }\n        if (state === IDLE) {\n          if (textareaHasMultilineValue) {\n            return;\n          }\n          event.preventDefault();\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          event.preventDefault();\n          let next = getNextOption();\n          transition(NAVIGATE, { value: next ? next.value : null });\n        }\n        break;\n      case \"ArrowUp\":\n        if (!options || !options.length) {\n          return;\n        }\n        if (state === IDLE) {\n          if (textareaHasMultilineValue) {\n            return;\n          }\n          event.preventDefault();\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          event.preventDefault();\n          let prev = getPreviousOption();\n          transition(NAVIGATE, { value: prev ? prev.value : null });\n        }\n        break;\n      case \"Home\":\n      case \"PageUp\":\n        event.preventDefault();\n        if (!options || options.length === 0) {\n          return;\n        }\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, { value: getFirstOption().value });\n        }\n        break;\n      case \"End\":\n      case \"PageDown\":\n        event.preventDefault();\n        if (!options || options.length === 0) {\n          return;\n        }\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, { value: getLastOption().value });\n        }\n        break;\n      case \"Escape\":\n        if (state !== IDLE) {\n          transition(ESCAPE);\n        }\n        break;\n      case \"Enter\":\n        if (state === NAVIGATING && navigationValue !== null) {\n          event.preventDefault();\n          onSelect && onSelect(navigationValue);\n          transition(SELECT_WITH_KEYBOARD, {\n            isControlled: isControlledRef.current\n          });\n        }\n        break;\n    }\n  };\n}\nfunction useBlur() {\n  let { state, transition, popoverRef, inputRef, buttonRef } = React.useContext(ComboboxContext);\n  return function handleBlur(event) {\n    let popover = popoverRef.current;\n    let input = inputRef.current;\n    let button = buttonRef.current;\n    let activeElement = event.relatedTarget;\n    if (activeElement !== input && activeElement !== button && popover) {\n      if (popover.contains(activeElement)) {\n        if (state !== INTERACTING) {\n          transition(INTERACT);\n        }\n      } else {\n        transition(BLUR);\n      }\n    }\n  };\n}\nfunction useReducerMachine(chart, reducer2, initialData) {\n  let [state, setState] = React.useState(chart.initial);\n  let [data, dispatch] = React.useReducer(reducer2, initialData);\n  let transition = (event, payload = {}) => {\n    let currentState = chart.states[state];\n    let nextState = currentState && currentState.on[event];\n    if (nextState) {\n      dispatch({ type: event, state, nextState: state, ...payload });\n      setState(nextState);\n      return;\n    }\n  };\n  return [state, data, transition];\n}\nfunction makeHash(str) {\n  let hash = 0;\n  if (str.length === 0) {\n    return hash;\n  }\n  for (let i = 0; i < str.length; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash = hash & hash;\n  }\n  return hash;\n}\nfunction getDataState(state) {\n  return state.toLowerCase();\n}\nfunction escapeRegexp(str) {\n  return String(str).replace(/([.*+?=^!:${}()|[\\]/\\\\])/g, \"\\\\$1\");\n}\nfunction useComboboxContext() {\n  let { isExpanded, comboboxId, data, state } = React.useContext(ComboboxContext);\n  let { navigationValue } = data;\n  return React.useMemo(() => ({\n    id: comboboxId,\n    isExpanded,\n    navigationValue: navigationValue ?? null,\n    state\n  }), [comboboxId, isExpanded, navigationValue, state]);\n}\nfunction useComboboxOptionContext() {\n  let { value, index } = React.useContext(OptionContext);\n  return React.useMemo(() => ({\n    value,\n    index\n  }), [value, index]);\n}\nexport {\n  Combobox,\n  ComboboxButton,\n  ComboboxInput,\n  ComboboxList,\n  ComboboxOption,\n  ComboboxOptionText,\n  ComboboxPopover,\n  escapeRegexp,\n  useKeyDown as unstable_useKeyDown,\n  useComboboxContext,\n  useComboboxOptionContext\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}